# Установка

### Docker

```
docker-compose up -d
docker run --rm --interactive --tty --volume $PWD:/app composer install
docker-compose exec app php artisan migrate --seed

curl http://localhost:8000/users/1
```

# Задание

У нас есть данные о пользователях (users) и их товарах (items). О пользователе известен его email, о товаре — название и стоимость.  

Запрос данных о пользователе:

```
curl http://localhost:8000/users/1
```

При добавлении новых товаров вызывается запрос:

```
curl http://localhost:8000/users/store?user_id=1&items[newitem]=321&items[anotheritem]=123
```

Проблема в том, что товары с одинаковым названием перезаписывают друг друга, и история заказов становится некорректной (как и total параметр, содержащий сумму всех товаров пользователя).

Необходимо исправить эту ошибку и добавить еще один API запрос, который вернет данные о любом товаре в системе.  

Входящий параметр — строка, название товара (например "anotheritem"), ответ вида:

```
{
    "name":"anotheritem",
    "users":
    [
        { "id":2, "count":1, "cost": 30 },
        { "id":5, "count":3, "cost": 100 },
        { "id":8, "count":1, "cost": 35 },
    ],
    "total": 165
}
```
URI для запроса нужно придумать самостоятельно. users — какие пользователи владеют товаром, в каком количестве и их суммарная стоимость.  
Кроме того, следует максимально улучшить существующую логику с точки зрения производительности, безопасности и качества кода. Ограничений на рефакторинг нет.
